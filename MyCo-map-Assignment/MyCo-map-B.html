<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>MyCo Revenue</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=visualization"></script>
    <script>
 
var map, pointarray, heatmap;
function initialize() {
  var httpRequest = new XMLHttpRequest();
        httpRequest.onreadystatechange = handleResponse;
        httpRequest.open("GET", "http://localhost:8088/MyCo-map-B.html", true);
        httpRequest.send();
      function handleResponse() {
          if (httpRequest.readyState == 4 && httpRequest.status == 200) {
          var result= JSON.parse(httpRequest.responseText);
      for(var i=0;i<result.length;i++){
          revenueMapData = [{location: new google.maps.LatLng(result[i].latitude, result[i].longitude), weight: result[i].revenue},];
      };
   var mapOptions = {
    zoom: 6,
    center: new google.maps.LatLng(37.774546, -122.433523),
    mapTypeId: google.maps.MapTypeId.SATELLITE
  };

  map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

  var pointArray = new google.maps.MVCArray(revenueMapData);

  heatmap = new google.maps.visualization.HeatmapLayer({
    data: pointArray,
    radius: 50
  });

  heatmap.setMap(map);
}
}
}
google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>

  <body>
    <div id="map-canvas"></div>
  </body>
</html>